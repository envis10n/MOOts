(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){t.exports=n(27)},21:function(t,e,n){},22:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(4),r=n.n(s),o=(n(21),n(22),n(23),n(24),n(25),n(1)),c=n(2),u=n(6),l=n(5),h=n(7),m=n(29),p=(n(26),function(){function t(e){var n=this;Object(o.a)(this,t),this.socket=new WebSocket(e.uri),this.terminal=e.terminal,this.socket.onmessage=function(t){var e=t.data;try{var a=JSON.parse(e);switch(a.event){case"client/prompt":n.terminal.print(a.payload.prompt),n.terminal.setMask(a.payload.mask);break;case"client/print":n.terminal.print(a.payload);break;default:console.log("Unhandled event from server:",a)}}catch(i){}},this.terminal.addListener(function(t){1===n.socket.readyState&&""!==t&&void 0!==t&&n.socket.send(t)})}return Object(c.a)(t,[{key:"json",value:function(t){this.socket.send(JSON.stringify(t))}},{key:"event",value:function(t,e){this.json({event:t,payload:e})}},{key:"gmcp",value:function(t,e){this.event("gmcp",{module:t,data:e})}}]),t}()),f=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={buffer:"",input:"",prompt:"> ",mask:!1,listeners:[]},n.input=i.a.createRef(),n.container=i.a.createRef(),n}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.socket=new p({uri:"gorgon.mudjs.net"===window.location.host?"wss://gorgon.mudjs.net/socket":"ws://localhost:5557",terminal:this})}},{key:"setMask",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.state;e.mask=t,this.setState(e)}},{key:"addListener",value:function(t){var e=this.state;e.listeners.push(t),this.setState(e)}},{key:"print",value:function(t){var e=this,n=this.state;""===n.buffer?n.buffer=t:n.buffer="".concat(n.buffer,"\n").concat(t),this.setState(n,function(){e.input.current.scrollIntoView({behavior:"smooth",block:"end"})})}},{key:"onClick",value:function(t){this.input.current.focus()}},{key:"onChange",value:function(t){var e=this.state;e.input=t.target.value,this.setState(e)}},{key:"onSubmit",value:function(t){if(""===this.state.input)t.preventDefault();else{var e=this.state,n=e.input;e.input="",this.setState(e),this.onInput(n),t.preventDefault()}}},{key:"onInput",value:function(t){this.state.mask?this.setMask():this.print("> "+t);var e=!0,n=!1,a=void 0;try{for(var i,s=this.state.listeners[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){(0,i.value)(t)}}catch(r){n=!0,a=r}finally{try{e||null==s.return||s.return()}finally{if(n)throw a}}}},{key:"clear",value:function(){var t=this.state;t.buffer="",this.setState(t)}},{key:"setPrompt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"> ",e=this.state;e.prompt=t,this.setState(e)}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.container,className:"terminal-container",onClick:this.onClick.bind(this)},i.a.createElement("div",{className:"terminal-output terminal-text"},this.state.buffer),i.a.createElement("form",{className:"terminal-input-container",onSubmit:this.onSubmit.bind(this)},i.a.createElement("span",{className:"terminal-text terminal-prompt"},this.state.prompt),i.a.createElement("input",{type:this.state.mask?"password":"text",ref:this.input,className:["terminal-text",m.a.FILL,"terminal-input"].join(" "),value:this.state.input,onChange:this.onChange.bind(this)})))}}]),e}(a.Component);var v=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.398b2477.chunk.js.map